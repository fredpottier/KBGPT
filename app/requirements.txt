# === Backend API ===
fastapi==0.116.1
uvicorn==0.30.3

# === Authentication & Security (Phase 0) ===
PyJWT[crypto]==2.9.0
passlib[bcrypt]==1.7.4
bcrypt==4.0.1  # Version compatible avec passlib 1.7.4 (pas 5.x)
python-jose[cryptography]==3.3.0
slowapi==0.1.9  # Rate limiting
email-validator>=2.0.0  # Pour Pydantic EmailStr

# === Vector DB ===
qdrant-client==1.15.1

# === Graph DB ===
neo4j>=5.14.0

# === Embeddings et Reranking (CPU SEULEMENT) ===
# Forcer versions CPU pour Ã©viter les 4GB NVIDIA
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.3.0+cpu
torchvision==0.18.0+cpu
sentence-transformers
transformers
scikit-learn
numpy

# === Utilitaires ===
pandas
openai==1.55.3
anthropic>=0.40.0
boto3>=1.28.0
botocore>=1.31.0
httpx==0.27.2
python-dotenv
python-multipart
openpyxl

# === Dépendances tests (à retirer pour prod) ===
pytest>=7.4.0
pytest-mock>=3.11.0
respx>=0.20.2

# === Analyse PPTX / PDF (VERSION ALLÃ‰GÃ‰E) ===
# MegaParse minimal (pas la version complÃ¨te avec onnxtr/playwright)
megaparse
python-pptx
pillow
PyMuPDF>=1.23.0
pdfplumber>=0.11.0
pypdf
pycryptodome>=3.21.0
pdfminer.six==20231228
pyyaml
jinja2

# LangChain minimal (pas toute la suite)
langchain-core>=0.3,<0.4
langchain-anthropic>=0.1.23
langchain_openai>=0.1.21

# Unstructured MINIMAL (pas [all-docs] qui est Ã©norme !)
unstructured==0.15.0

# OCR simple (pas ONNX qui est lourd)
pytesseract

# Optionnel si vraiment besoin plus tard:
# llama-parse>=0.4.0  # API externe, pas besoin localement
# playwright>=1.47.0  # 200MB+ de navigateurs
# onnxtr>=0.6.0       # ModÃ¨les OCR lourds
# layoutparser         # ModÃ¨les computer vision
# unstructured[all-docs] # Support tous formats (trÃ¨s lourd)

# === Lang / NLP util ===
langdetect

# === OSMOSE Semantic Intelligence V2.1 (Phase 1) ===
# NER multilingue
spacy>=3.7.2
# Modèles spaCy à installer séparément:
# python -m spacy download en_core_web_trf
# python -m spacy download fr_core_news_trf
# python -m spacy download de_core_news_trf
# python -m spacy download xx_ent_wiki_sm

# Clustering sémantique
hdbscan>=0.8.33

# Détection langue
fasttext>=0.9.2
# Modèle fasttext à télécharger:
# wget https://dl.fbaipublicfiles.com/fasttext/supervised-models/lid.176.bin

# === Debug ===
debugpy
redis>=5.0
rq>=1.15
pydantic-settings

# === Zep Integration ===
zep-python>=2.0.2
asyncpg>=0.29.0

# === Fuzzy Matching (Phase 5B) ===
fuzzywuzzy>=0.18.0
python-Levenshtein>=0.21.0
