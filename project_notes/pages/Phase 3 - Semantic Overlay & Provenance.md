- #phase #semantic #provenance #p1
- phase-number:: 3
- status:: [[PENDING]]
- priority:: P1 - HAUTE VALEUR
- duration:: 6 semaines
- effort:: 240 heures
- dependencies:: [[Phase 2 - Facts Governance Finalization]]
-
- ## 🎯 Objectif
	- Refactorer Episode (JSON → Graph)
	- Bridge Qdrant ↔ Neo4j bidirectionnel
	- Traçabilité complète (qui a créé/approuvé)
-
- ## 📋 Tâches Principales
	- ### 1. Refactor Episode
		- TODO Transformer `entity_uuids: string[]` en relations `(:Episode)-[:MENTIONS]->(:Entity)`
		- TODO Transformer `fact_uuids: string[]` en `(:Episode)-[:CONTAINS]->(:Fact)`
		- TODO Migration des épisodes existants
		- TODO Queries graph traversal sur épisodes
		- estimated-effort:: 60h
	-
	- ### 2. Bridge Qdrant ↔ Neo4j
		- TODO Enrichir résultats Qdrant avec metadata Neo4j
		- TODO Index Neo4j → vector_id Qdrant
		- TODO Sync automatique lors updates
		- TODO Tests cohérence bidirectionnelle
		- estimated-effort:: 50h
	-
	- ### 3. Provenance Complète
		- TODO Créer nodes `(:Person)` pour auteurs/reviewers
		- TODO Relations `(:Fact)-[:CREATED_BY]->(:Person)`
		- TODO Relations `(:Fact)-[:APPROVED_BY]->(:Person)`
		- TODO Timestamp sur toutes les relations
		- estimated-effort:: 40h
	-
	- ### 4. UI Provenance
		- TODO Afficher "Créé par X le Y"
		- TODO Afficher "Approuvé par Z le W"
		- TODO Vue "Contributions par utilisateur"
		- TODO Audit trail visuel sur facts
		- estimated-effort:: 50h
	-
	- ### 5. Semantic Search Enhanced
		- TODO Hybrid search (vector + graph)
		- TODO Re-ranking avec graph context
		- TODO Expansion query via relations Neo4j
		- estimated-effort:: 40h
-
- ## ✅ Critères d'Acceptance
	- [ ] Episodes sont des relations, pas JSON
	- [ ] Qdrant results incluent metadata Neo4j
	- [ ] 100% facts ont created_by et approved_by
	- [ ] UI affiche provenance clairement
	- [ ] Hybrid search > pure vector search
-
- ## 📊 Métriques de Succès
	- **Precision hybrid** : +15% vs vector seul
	- **Enrichment latency** : < 50ms
	- **Provenance coverage** : 100%
-
- ## 🔗 Références
	- [[BACK2PROMISE_MASTER_ROADMAP]] Section "Phase 3"
	- [[KG_VALUE_PROPOSITION_CONCRETE]] - Hybrid search
	- [[Back2Promise Project]]
-
- ## 📝 Notes de Session
	-
